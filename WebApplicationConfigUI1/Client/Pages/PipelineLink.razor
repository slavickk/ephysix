@page "/pipeline"
@inject NavigationManager NavManager

<h3>Pipeline</h3>
<h1>AAA:@heading</h1>


@for (var i = 1; i < 4; i++)
{
    var buttonNumber = i;

    <p>
        <button @onclick="@(e => UpdateHeading(e, buttonNumber))">
            Button #@i
        </button>
    </p>
}

<p>Q:@Yaml</p>

@{ var list = new List<string>{ ".NET", "Python","Java" }; }
<Dropdown TItem="string" OnSelected="@OnSelected" >
    <InitialTip>This is a dropdown list</InitialTip>
    <ChildContent>
        <DropdownListItem Item="@list[0]">.NET</DropdownListItem>
        <DropdownListItem Item="@list[1]">Python</DropdownListItem>
        <div class="dropdown-divider"></div>
        <DropdownListItem Item="@list[2]">Java</DropdownListItem>
    </ChildContent>
</Dropdown>

@code {
    private void OnSelected(string selection)
    {
        Console.WriteLine(selection);
    }
}

<div class="bs-example">
    <nav class="navbar navbar-expand-md navbar-light bg-light">
        <a href="#" class="navbar-brand">Brand</a>
        <div id="navbarCollapse" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Messages</a>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item">Inbox</a>
                        <a href="#" class="dropdown-item">Drafts</a>
                        <a href="#" class="dropdown-item">Sent Items</a>
                        <div class="dropdown-divider"></div>
                        <a href="#"class="dropdown-item">Trash</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
</div>
<TreeViewExample/>
<div class="dropdown" id="some1">
  <a class="dropdown-toggle" data-toggle="dropdown" href="#">Dropdown trigger</a>
  <!-- Link or button to toggle dropdown -->
  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
    <li><a tabindex="-1"  @onclick="@(e => UpdateHeading1(e, 1))" href="#">Action</a></li>
    <li><a tabindex="-1" href="#">Another action</a></li>
    <li><a tabindex="-1" href="#">Something else here</a></li>
    <li class="divider"></li>
    <li><a tabindex="-1" href="#">Separated link</a></li>
  </ul>
</div>



@code {
    string  Yaml="";
//        <button @onclick="@(e => UpdateHeading(e, buttonNumber))">

    private string heading = "Select a button to learn its position";
    private void UpdateHeading1(MouseEventArgs e, int buttonNumber)
    {
//        heading = $"Selected {buttonNumber}";
               heading = $"Selected #{buttonNumber} at {e.ClientX}:{e.ClientY}";
        //Console.WriteLine($"www:{heading}");
    }

    private void UpdateHeading(MouseEventArgs e, int buttonNumber)
    {
//        heading = $"Selected {buttonNumber}";
               heading = $"Selected #{buttonNumber} at {e.ClientX}:{e.ClientY}";
        //Console.WriteLine($"www:{heading}");
    }
    void OnClick(MouseEventArgs e)
    {
        heading = "Click";
        //    Console.WriteLine($"Item Clicked => Menu: {e.ContextMenuId}, MenuTarget: {e.ContextMenuTargetId}, IsCanceled: {e.IsCanceled}, MenuItem: {e.MenuItemElement}, MouseEvent: {e.MouseEvent}");
    }
    protected override void OnInitialized()
    {
        var querystring = NavManager.QueryString();

// get id from query string
        Yaml = querystring["yaml"];
   }

}
