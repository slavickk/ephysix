pipelineDescription: Pipeline example
steps: 
- iDStep: Step1
  description: Check registration extract
  receiver: !PacketBeatReceiver
    port: 15001
    mocFile: C:\D\Out\CheckReg.json
    saver:
        path: /log

  converters:
  - filter: !ConditionFilter
      conditionPath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Action/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: CheckRegistration
    outputFields:
    - !ConstantValue
      outputPath: stream
      value: checkRegistration
    - !ExtractFromInputValue
      outputPath: login
      conditionPath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: Login
      valuePath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/#text
    - !ExtractFromInputValue
      outputPath: clientIP
      conditionPath: Step1/Rec/network/forwarded_ip/Address
    - !ExtractFromInputValue
      outputPath: geoCountryCode2
      conditionPath: Step1/Rec/network/forwarded_ip/IsoCountryCode
    - !ExtractFromInputValue
      outputPath: geoCountryName
      conditionPath: Step1/Rec/network/forwarded_ip/IsoCountryName
    - !ExtractFromInputValue
      outputPath: originalTime
      conditionPath: Step1/Rec/event/start
    - !ExtractFromInputValue
      outputPath: rid
      conditionPath: Step1/Rec/http/response/body/content/Envelope/Body/Invoke/ActionRs/ActionResult/Step1/Rec/Object/Pid/Field/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: Id
      valuePath: Step1/Rec/http/response/body/content/Envelope/Body/Invoke/ActionRs/ActionResult/Step1/Rec/Object/Pid/Field/#text
    - !ExtractFromInputValue
      outputPath: status
      conditionPath: Step1/Rec/http/response/body/content/Envelope/Body/Invoke/ActionRs/ActionResult/Step1/Rec/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: Status
      valuePath: Step1/Rec/http/response/body/content/Envelope/Body/Invoke/ActionRs/ActionResult/Step1/Rec/String
    - !ExtractFromInputValue
      outputPath: latitude
      conditionPath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: Latitude
      valuePath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/#text
    - !ExtractFromInputValue
      outputPath: longitude
      conditionPath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: Longitude
      valuePath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/#text
    - !ExtractFromInputValue
      outputPath: deviceInfo
      converter: !Hash
        sizeInBits: 64
      conditionPath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Action/Params/Param/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: DeviceInfo
      valuePath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Action/Params/Param/String/Id
  - filter: !ConditionFilter
      conditionPath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Action/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: CheckRegistration
    outputFields:
    - !ConstantValue
      outputPath: stream
      value: checkRegistration
    - !ExtractFromInputValue
      outputPath: login
      conditionPath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/-Name/#text      
      conditionCalcer: !ComparerForValue
        valueForCompare: Login
      valuePath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/#text
    - !ExtractFromInputValue
      outputPath: clientIP
      conditionPath: Step1/Rec/network/forwarded_ip/Address
    - !ExtractFromInputValue
      outputPath: geoCountryCode2
      conditionPath: Step1/Rec/network/forwarded_ip/IsoCountryCode
    - !ExtractFromInputValue
      outputPath: geoCountryName
      conditionPath: Step1/Rec/network/forwarded_ip/IsoCountryName
    - !ExtractFromInputValue
      outputPath: originalTime
      conditionPath: Step1/Rec/event/start
    - !ExtractFromInputValue
      outputPath: rid
      conditionPath: Step1/Rec/http/response/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/m:Invoke/t:ActionRs/t:ActionResult/t:Step1/Rec/o:Object/o:Pid/o:Field/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: Id
      valuePath: Step1/Rec/http/response/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/m:Invoke/t:ActionRs/t:ActionResult/t:Step1/Rec/o:Object/o:Pid/o:Field/#text
    - !ExtractFromInputValue
      outputPath: status
      conditionPath: Step1/Rec/http/response/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/m:Invoke/t:ActionRs/t:ActionResult/t:Step1/Rec/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: Status
      valuePath: Step1/Rec/http/response/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/m:Invoke/t:ActionRs/t:ActionResult/t:Step1/Rec/o:String/#text
    - !ExtractFromInputValue
      outputPath: latitude
      conditionPath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: Latitude
      valuePath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/#text
    - !ExtractFromInputValue
      outputPath: deviceInfo
      converter: !Hash
        sizeInBits: 64
      conditionPath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Action/mcp:Params/mcp:Param/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: DeviceInfo
      valuePath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Action/mcp:Params/mcp:Param/obj:String/#text/Id
    - !ExtractFromInputValue
      outputPath: longitude
      conditionPath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: Longitude
      valuePath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/#text
  - filter: !ConditionFilter
      conditionPath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Action/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: CheckLogin
    outputFields:
    - !ConstantValue
      outputPath: stream
      value: checkLogin
    - !ExtractFromInputValue
      outputPath: login
      conditionPath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/-Name/#text      
      conditionCalcer: !ComparerForValue
        valueForCompare: Login
      valuePath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/#text
    - !ExtractFromInputValue
      outputPath: clientIP
      conditionPath: Step1/Rec/network/forwarded_ip/Address
    - !ExtractFromInputValue
      outputPath: geoCountryCode2
      conditionPath: Step1/Rec/network/forwarded_ip/IsoCountryCode
    - !ExtractFromInputValue
      outputPath: geoCountryName
      conditionPath: Step1/Rec/network/forwarded_ip/IsoCountryName
    - !ExtractFromInputValue
      outputPath: originalTime
      conditionPath: Step1/Rec/event/start
    - !ExtractFromInputValue
      outputPath: rid
      conditionPath: Step1/Rec/http/response/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/m:Invoke/t:ActionRs/t:ActionResult/t:Step1/Rec/o:Object/o:Pid/o:Field/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: Id
      valuePath: Step1/Rec/http/response/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/m:Invoke/t:ActionRs/t:ActionResult/t:Step1/Rec/o:Object/o:Pid/o:Field/#text
    - !ExtractFromInputValue
      outputPath: status
      conditionPath: Step1/Rec/http/response/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/m:Invoke/t:ActionRs/t:ActionResult/t:Step1/Rec/o:ArrObject/o:Step1/Rec/o:Properties/o:Property/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: Status
      valuePath: Step1/Rec/http/response/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/m:Invoke/t:ActionRs/t:ActionResult/t:Step1/Rec/o:ArrObject/o:Step1/Rec/o:Properties/o:Property/o:String/#text
    - !ExtractFromInputValue
      outputPath: latitude
      conditionPath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: Latitude
      valuePath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/#text
    - !ExtractFromInputValue
      outputPath: longitude
      conditionPath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/-Name/#text
      conditionCalcer: !ComparerForValue
        valueForCompare: Longitude
      valuePath: Step1/Rec/http/request/body/content/SOAP-ENV:Envelope/SOAP-ENV:Body/mcpw:Invoke/mcp:ActionRq/mcp:Context/mcp:Pid/obj:Field/#text
  - filter: !ConditionFilter
      conditionPath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Action/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: CheckLogin
    outputFields:
    - !ConstantValue
      outputPath: stream
      value: checkLogin
    - !ExtractFromInputValue
      outputPath: login
      conditionPath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: Login
      valuePath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/#text
    - !ExtractFromInputValue
      outputPath: clientIP
      conditionPath: Step1/Rec/network/forwarded_ip/Address
    - !ExtractFromInputValue
      outputPath: geoCountryCode2
      conditionPath: Step1/Rec/network/forwarded_ip/IsoCountryCode
    - !ExtractFromInputValue
      outputPath: geoCountryName
      conditionPath: Step1/Rec/network/forwarded_ip/IsoCountryName
    - !ExtractFromInputValue
      outputPath: originalTime
      conditionPath: Step1/Rec/event/start
    - !ExtractFromInputValue
      outputPath: rid
      conditionPath: Step1/Rec/http/response/body/content/Envelope/Body/Invoke/ActionRs/ActionResult/Step1/Rec/Object/Pid/Field/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: Id
      valuePath: Step1/Rec/http/response/body/content/Envelope/Body/Invoke/ActionRs/ActionResult/Step1/Rec/Object/Pid/Field/#text
    - !ExtractFromInputValue
      outputPath: status
      conditionPath: Step1/Rec/http/response/body/content/Envelope/Body/Invoke/ActionRs/ActionResult/Step1/Rec/ArrObject/Step1/Rec/Properties/Property/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: Status
      valuePath: Step1/Rec/http/response/body/content/Envelope/Body/Invoke/ActionRs/ActionResult/Step1/Rec/ArrObject/Step1/Rec/Properties/Property/String
    - !ExtractFromInputValue
      outputPath: latitude
      conditionPath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: Latitude
      valuePath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/#text
    - !ExtractFromInputValue
      outputPath: longitude
      conditionPath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/-Name
      conditionCalcer: !ComparerForValue
        valueForCompare: Longitude
      valuePath: Step1/Rec/http/request/body/content/Envelope/Body/Invoke/ActionRq/Context/Pid/Field/#text
  sender: !JsonSender
      certThumbprints: 
      - E77587679318FED87BB040F00D76AB461B962D95
      - 10B46EBA0BE906FE46060FADC0BE5A76CEB2B386
      timeoutSendInSeconds: 5
      urls:
      - https://192.168.1.11:443/api/Streams/LoadStream1
      - https://192.168.1.31:443/api/Streams/LoadStream1
      timeoutsBetweenRetryInMilli:
      - 100
